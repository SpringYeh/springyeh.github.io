<!DOCTYPE html>
<html lang="zh"><head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content=""><title>添加远程库 - Wiki | 一叶知秋</title><script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?f5d6cbe800b85fe8f7d5f2a9a9fb22d6";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>
  <meta name="keywords" content="一叶知秋, 原创博客,生活, cinzano, Jekyll, blog">
  <meta name="description" content="一叶知秋|日常|PAT|书|少女与猫|诗词集"><link rel="stylesheet" href="https://at.alicdn.com/t/font_1572012_xhxate8uig.css">
<link rel="stylesheet" href="/assets/main.css?v=0.1.7" />
<link rel="stylesheet" href="/assets/css/custom.css" />

<script src="/assets/js/main.js?v=0.1.7" defer></script>
<script src="https://cdnjs.loli.net/ajax/libs/jquery/3.2.1/jquery.min.js"></script><!-- 原样式 -->
<link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.18.1/styles/monokai-sublime.min.css" />
<script src="/assets/js/highlight.js"></script>
<script>hljs.initHighlightingOnLoad();</script><script src="https://unpkg.com/mermaid@7.1.0/dist/mermaid.min.js" defer></script></head>

<body class="body-chapter">
	<script>
  if ('Wiki' == '诗') {
    $('body').addClass("poem-page");
    // console.log( 'Wiki' );
  } else if ('Wiki' == '万事集') {
    $('body').addClass("tale-page");
    // console.log( 'Wiki' );
  }
</script>

<div class="book__wrapper sidebar-right" id="bookMain"><div class="book-summary" id="bookSummary">
  <nav role="navigation">
    <ul class="summary">
      <li class="chapter ">
        <a href="/wiki/" class="custom-link">Wiki</a>
      </li>
      <li class="divider"></li><li class="chapter "><a href="/wiki/git.html">廖雪峰的Git教程</a><ul class="articles"><li class="chapter ">
            <a href="/wiki/git/1.html">安装Git</a>
          </li><li class="chapter ">
            <a href="/wiki/git/2.html">创建版本库(repository)</a>
          </li><li class="chapter ">
            <a href="/wiki/git/3.html">时光机穿梭</a>
          </li><li class="chapter ">
            <a href="/wiki/git/4.html">版本回退</a>
          </li><li class="chapter ">
            <a href="/wiki/git/5.html">工作区和暂存区</a>
          </li><li class="chapter ">
            <a href="/wiki/git/6.html">管理修改</a>
          </li><li class="chapter ">
            <a href="/wiki/git/7.html">撤销修改</a>
          </li><li class="chapter ">
            <a href="/wiki/git/8.html">删除文件</a>
          </li><li class="chapter ">
            <a href="/wiki/git/9.html">远程仓库</a>
          </li><li class="chapter active">
            <a href="/wiki/git/10.html">添加远程库</a>
          </li><li class="chapter ">
            <a href="/wiki/git/11.html">从远程库克隆</a>
          </li><li class="chapter ">
            <a href="/wiki/git/12.html">创建与合并分支</a>
          </li><li class="chapter ">
            <a href="/wiki/git/13.html">解决冲突</a>
          </li><li class="chapter ">
            <a href="/wiki/git/14.html">分支管理策略</a>
          </li><li class="chapter ">
            <a href="/wiki/git/15.html">Bug分支</a>
          </li><li class="chapter ">
            <a href="/wiki/git/16.html">Feature分支</a>
          </li><li class="chapter ">
            <a href="/wiki/git/17.html">多人协作</a>
          </li><li class="chapter ">
            <a href="/wiki/git/18.html">Rebase</a>
          </li><li class="chapter ">
            <a href="/wiki/git/19.html">使用GitHub</a>
          </li></ul></li></ul>
  </nav>
</div>
<div class="book__body">
    <div class="body__inner"><a href="/" class="logo"><img src="/assets/img/logo.svg" class="logo_img"><h1>一叶知秋</h1>
</a><a href="/archive.html" class="sidebar__toggler">
  <span class="sidebar__toggler_top"></span>
  <span class="sidebar__toggler_middle"></span>
  <span class="sidebar__toggler_bottom"></span>
</a><div class="book-header" role="navigation">
    <a href="#" id="summaryToggler" class="summary__toggler">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
  <circle cx="12" cy="12" r="1"></circle>
  <circle cx="19" cy="12" r="1"></circle>
  <circle cx="5" cy="12" r="1"></circle>
</svg>

    </a>
<!--   <h1>
    添加远程库 - Wiki
  </h1> -->
</div><main class="chapter__wrapper" tabindex="-1" role="main">
        <div class="chapter__inner">
          <article class="chapter__content content">
            <h1 id="添加远程库">添加远程库</h1>

<p>现在的情景是，你已经在本地创建了一个Git仓库后，又想在GitHub创建一个Git仓库，并且让这两个仓库进行远程同步，这样，GitHub上的仓库既可以作为备份，又可以让其他人通过该仓库来协作，真是一举多得。</p>

<p>首先，登陆GitHub，然后，在右上角找到“Create a new repo”按钮，创建一个新的仓库：</p>

<p><img src="/assets/img/book//%E6%B7%BB%E5%8A%A0%E8%BF%9C%E7%A8%8B%E5%BA%93.assets/0.png" alt="github-create-repo-1"></p>

<p>在Repository name填入<code class="highlighter-rouge">learngit</code>，其他保持默认设置，点击“Create repository”按钮，就成功地创建了一个新的Git仓库：</p>

<p><img src="/assets/img/book//%E6%B7%BB%E5%8A%A0%E8%BF%9C%E7%A8%8B%E5%BA%93.assets/0-16403394458491.png" alt="github-create-repo-2"></p>

<p>目前，在GitHub上的这个<code class="highlighter-rouge">learngit</code>仓库还是空的，GitHub告诉我们，可以从这个仓库克隆出新的仓库，也可以把一个已有的本地仓库与之关联，然后，把本地仓库的内容推送到GitHub仓库。</p>

<p>现在，我们根据GitHub的提示，在本地的<code class="highlighter-rouge">learngit</code>仓库下运行命令：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git remote add origin git@github.com:michaelliao/learngit.git
</code></pre></div></div>

<p>请千万注意，把上面的<code class="highlighter-rouge">michaelliao</code>替换成你自己的GitHub账户名，否则，你在本地关联的就是我的远程库，关联没有问题，但是你以后推送是推不上去的，因为你的SSH Key公钥不在我的账户列表中。</p>

<p>添加后，远程库的名字就是<code class="highlighter-rouge">origin</code>，这是Git默认的叫法，也可以改成别的，但是<code class="highlighter-rouge">origin</code>这个名字一看就知道是远程库。</p>

<p>下一步，就可以把本地库的所有内容推送到远程库上：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git push -u origin master
Counting objects: 20, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (15/15), done.
Writing objects: 100% (20/20), 1.64 KiB | 560.00 KiB/s, done.
Total 20 (delta 5), reused 0 (delta 0)
remote: Resolving deltas: 100% (5/5), done.
To github.com:michaelliao/learngit.git
 * [new branch]      master -&gt; master
Branch 'master' set up to track remote branch 'master' from 'origin'.
</code></pre></div></div>

<p>把本地库的内容推送到远程，用<code class="highlighter-rouge">git push</code>命令，实际上是把当前分支<code class="highlighter-rouge">master</code>推送到远程。</p>

<p>由于远程库是空的，我们第一次推送<code class="highlighter-rouge">master</code>分支时，加上了<code class="highlighter-rouge">-u</code>参数，Git不但会把本地的<code class="highlighter-rouge">master</code>分支内容推送的远程新的<code class="highlighter-rouge">master</code>分支，还会把本地的<code class="highlighter-rouge">master</code>分支和远程的<code class="highlighter-rouge">master</code>分支关联起来，在以后的推送或者拉取时就可以简化命令。</p>

<p>推送成功后，可以立刻在GitHub页面中看到远程库的内容已经和本地一模一样：</p>

<p><img src="/assets/img/book//%E6%B7%BB%E5%8A%A0%E8%BF%9C%E7%A8%8B%E5%BA%93.assets/0-16403394657624.png" alt="github-repo"></p>

<p>从现在起，只要本地作了提交，就可以通过命令：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git push origin master
</code></pre></div></div>

<p>把本地<code class="highlighter-rouge">master</code>分支的最新修改推送至GitHub，现在，你就拥有了真正的分布式版本库！</p>

<h3 id="ssh警告">SSH警告</h3>

<p>当你第一次使用Git的<code class="highlighter-rouge">clone</code>或者<code class="highlighter-rouge">push</code>命令连接GitHub时，会得到一个警告：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The authenticity of host 'github.com (xx.xx.xx.xx)' can't be established.
RSA key fingerprint is xx.xx.xx.xx.xx.
Are you sure you want to continue connecting (yes/no)?
</code></pre></div></div>

<p>这是因为Git使用SSH连接，而SSH连接在第一次验证GitHub服务器的Key时，需要你确认GitHub的Key的指纹信息是否真的来自GitHub的服务器，输入<code class="highlighter-rouge">yes</code>回车即可。</p>

<p>Git会输出一个警告，告诉你已经把GitHub的Key添加到本机的一个信任列表里了：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Warning: Permanently added 'github.com' (RSA) to the list of known hosts.
</code></pre></div></div>

<p>这个警告只会出现一次，后面的操作就不会有任何警告了。</p>

<p>如果你实在担心有人冒充GitHub服务器，输入<code class="highlighter-rouge">yes</code>前可以对照<a href="https://help.github.com/articles/what-are-github-s-ssh-key-fingerprints/">GitHub的RSA Key的指纹信息</a>是否与SSH连接给出的一致。</p>

<h3 id="删除远程库">删除远程库</h3>

<p>如果添加的时候地址写错了，或者就是想删除远程库，可以用<code class="highlighter-rouge">git remote rm &lt;name&gt;</code>命令。使用前，建议先用<code class="highlighter-rouge">git remote -v</code>查看远程库信息：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git remote -v
origin  git@github.com:michaelliao/learn-git.git (fetch)
origin  git@github.com:michaelliao/learn-git.git (push)
</code></pre></div></div>

<p>然后，根据名字删除，比如删除<code class="highlighter-rouge">origin</code>：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git remote rm origin
</code></pre></div></div>

<p>此处的“删除”其实是解除了本地和远程的绑定关系，并不是物理上删除了远程库。远程库本身并没有任何改动。要真正删除远程库，需要登录到GitHub，在后台页面找到删除按钮再删除。</p>

<hr>

<h3 id="小结">小结</h3>

<p>要关联一个远程库，使用命令<code class="highlighter-rouge">git remote add origin git@server-name:path/repo-name.git</code>；</p>

<p>关联一个远程库时必须给远程库指定一个名字，<code class="highlighter-rouge">origin</code>是默认习惯命名；</p>

<p>关联后，使用命令<code class="highlighter-rouge">git push -u origin master</code>第一次推送master分支的所有内容；</p>

<p>此后，每次本地提交后，只要有必要，就可以使用命令<code class="highlighter-rouge">git push origin master</code>推送最新修改；</p>

<p>分布式版本系统的最大好处之一是在本地工作完全不需要考虑远程库的存在，也就是有没有联网都可以正常工作，而SVN在没有联网的时候是拒绝干活的！当有网络的时候，再把本地提交推送一下就完成了同步，真是太方便了！</p>

          </article>
        </div><footer class="site-footer">
  © 2022<a href="/">一叶知秋</a>. All rights reserved.
</footer>
</main>
    </div><a href="/wiki/git/9.html" class="navigation navigation-prev"
      aria-label="Previous page: 远程仓库"><svg viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
  <path d="M20 30 L8 16 20 2" />
</svg>
</a><a href="/wiki/git/11.html" class="navigation navigation-next"
      aria-label="Next page: 从远程库克隆"><svg viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
  <path d="M12 30 L24 16 12 2" />
</svg>
</a></div>
</div>
</body>

</html>